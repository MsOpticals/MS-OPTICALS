<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Admin Orders – Optivue</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header>
    <h1>OPTIVUE</h1>
    <p class="slogan">Where Vision Meets Perfect</p>
    <nav>
      <a href="index.html">Home</a>
      <a href="shop.html">Shop</a>
      <a href="cart.html">Cart</a>
      <a href="orders.html">Admin</a>
      <a href="login.html">Login</a>
    </nav>
  </header>

  <h2>Admin Dashboard – Orders</h2>
  <div id="orders-container"></div>

  <script>
    const ordersContainer = document.getElementById('orders-container');
    let orders = JSON.parse(localStorage.getItem('orders')) || [];

    function renderOrders() {
      if (orders.length === 0) {
        ordersContainer.innerHTML = "<p>No orders yet.</p>";
        return;
      }

      ordersContainer.innerHTML = '';
      orders.forEach((order, index) => {
        let itemsList = order.cart.map(item => `<li>${item.name} - ${item.price}</li>`).join('');

        ordersContainer.innerHTML += `
          <div class="order-card">
            <h3>Order ID: ${order.id}</h3>
            <p><strong>Name:</strong> ${order.name}</p>
            <p><strong>Address:</strong> ${order.address}</p>
            <p><strong>Payment:</strong> ${order.payment}</p>
            <p><strong>Status:</strong> <span id="status-${index}">${order.status}</span></p>
            <ul>${itemsList}</ul>
            <select onchange="updateStatus(${index}, this.value)">
              <option value="">Update Status</option>
              <option value="Shipped">Mark as Shipped</option>
              <option value="Delivered">Mark as Delivered</option>
              <option value="Cancelled">Cancel Order</option>
            </select>
            <hr>
          </div>
        `;
      });
    }

    function updateStatus(index, newStatus) {
      if (!newStatus) return;
      orders[index].status = newStatus;
      localStorage.setItem('orders', JSON.stringify(orders));
      renderOrders();
    }

    renderOrders();
  </script>
<link rel="stylesheet" href="css/style.css">
<script src="js/main.js"></script>
</body>
</html>